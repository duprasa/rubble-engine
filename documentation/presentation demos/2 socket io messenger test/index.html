<head>
<title>socket io test!</title>
<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io.connect('http://localhost');
  window.onload = function(){
  	var btn = document.getElementById('btn');
  	var text = document.getElementById('text');

  	btn.onclick = function(){
  		addMessage('you ' + ": " + text.value);
  		socket.emit('btnClick',{message: text.value});
  		text.value = "";
  	};
  };
  socket.on('receiveMessage',function(data){
  	addMessage(data);
  });
  function addMessage(text){
  	var message = document.createElement('div');
  	message.innerHTML = text;
  	document.body.appendChild(message);
  }
</script>
</head>
<body>
	<input type="text" id="text"/>
	<button id="btn">Send message</button>
</body>